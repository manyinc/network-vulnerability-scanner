import socket

def scan_ports(self,target,begin_port,end_port,time_out):
        self.info_label("#ffcc00","◀ Port Scanning ▶")
        self.progress_label("#ffcc00","◀ Step 2 of 6 ▶")
        open_ports = []
        self.progressbar.set(0)
        time_out_f = float(time_out)/1000
        for port in range(begin_port,end_port):
            
            sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
            sock.settimeout(time_out_f)
            result = sock.connect_ex((target, port))

            self.progressbar.set(float((port-begin_port))/(end_port-begin_port))
            self.update()
            
            if result == 0:
                open_ports.append(port)
            sock.close()
        return open_ports